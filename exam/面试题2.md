```javascript
	// 这个beforeEach的钩子函数，它是一个全局的before 钩子函数， （before each）意思是在 每次每一个路由改变的时候都得执行一遍
	// Vue中，在每次发生路由导航是最开始先检测用户是否登录
	// to: (Route路由对象)  即将要进入的目标 路由对象  to对象下面的属性： path   params  query   hash   fullPath    matched   name   	  	 // meta（在matched下，但是本例可以直接用）
	// from: (Route路由对象)  当前导航正要离开的路由
	// next: (Function函数)   一定要调用该方法来 resolve 这个钩子。  调用方法：next(参数或者空)   ***必须调用
	
	router.beforeEach(({meta, path}, from, next) => {　　
　　const {auth = true} = meta      // meta代表的是to中的meta对象，path代表的是to中的path对象
　　var isLogin = Boolean(store.state.user.id)    // true用户已登录， false用户未登录　
　　if (auth  &&  !isLogin  &&  path !== '/login') {   // auth 代表需要通过用户身份验证，默认为true，代表需要被验证， false为不用检验
　　　　return next({ path: '/login' })   //  跳转到login页面
　　}
　　next()   // 进行下一个钩子函数
})
```

``` javascript
	// ajax
	function ajax(options){
		//-1  整理options
		options=options||{};
		options.data=options.data||{};
		options.timeout=options.timeout||0;
		options.type=options.type||'get';
		
		//0 整理data
		var arr=[];
		for(var key in options.data){
			arr.push(key+'='+encodeURIComponent(options.data[key]));	
		}
		var str=arr.join('&');
		
		//1	创建ajax对象
		if(window.XMLHttpRequest){
			var oAjax=new XMLHttpRequest();//[object XMLHttpRequest]
		}else{
			var oAjax=new ActiveXObject('Microsoft.XMLHTTP')
		}
		
		if(options.type=='get'){
			//2.
			oAjax.open('get',options.url+'?'+str,true);
			//3.
			oAjax.send();
		}else{
			//2.
			oAjax.open('post',options.url,true);
			//设置请求头
			oAjax.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
			oAjax.send(str);//身子
		}
		
		//3.5	超时
		if(options.timeout){
			var timer=setTimeout(function(){
				alert('超时了');
				oAjax.abort();//中断ajax请求	
			},options.timeout);
		}
		
		
		//4.
		oAjax.onreadystatechange=function(){//当准备状态改变时
			if(oAjax.readyState==4){//成功失败都会有4
				clearTimeout(timer);
				if(oAjax.status>=200 && oAjax.status<300 || oAjax.status==304){
					options.success && options.success(JSON.parse(oAjax.responseText));
				}else{
					options.error && options.error(oAjax.status);//http	0
				}
			}
		};
	};
```

``` javascript
	
	// 


```